---
title: 闭包
icon: object-group
tag:
  - 面试必考
---


1. 抽象与解耦
● 分离关注点：将业务逻辑与UI呈现解耦，组件只处理自身职责范围内的逻辑
● 数据驱动：通过Props传入配置/数据，避免内部固化业务逻辑
● 上下文隔离：不依赖外部全局状态，通过接口与外界通信
2. 接口设计原则
● 最小化Props接口：仅暴露必要参数，保持API简洁
● 扩展性设计：
  ○ 提供renderXXX插槽（如renderFooter）
  ○ 支持children复合内容
  ○ 预留扩展点（如customClassName）
● 类型约束：使用TypeScript定义严谨的Props契约
3. 行为控制策略
● 受控/非受控双模：
  ○ 同时支持value（受控）和defaultValue（非受控）
  ○ 内部维护兜底状态
● 事件代理机制：
  ○ 统一的事件命名规范（onChange/onSubmit）
  ○ 透传原生事件对象
4. 可配置化体系
● 预设与覆盖：
  ○ 提供合理的默认配置
  ○ 允许局部覆盖（如headerStyle覆盖容器样式）
● 主题方案：
  ○ 通过Context注入主题变量
  ○ 支持CSS变量动态覆盖
5. 自适应能力
● 响应式处理：
  ○ 容器查询实现布局自适应
  ○ 提供breakpoint配置点
● 空状态处理：内置emptyState占位组件
● 错误边界：封装组件级错误捕获机制
6. 性能优化内建
● 渲染控制：
  ○ 自动记忆化关键计算
  ○ 细粒度上下文分割
● 按需加载：动态导入重型子组件
● DOM优化：被动事件监听等浏览器友好实现
7. 可观测性增强
● Ref透传：支持获取底层DOM实例
● 调试模式：开发环境输出内部状态日志
● 埋点插槽：预留性能监控/行为追踪接口
8. 文档契约
● 类型即文档：TS定义自描述接口
● 预设值枚举：size: 'sm' | 'md' | 'lg' 等约束
● 默认值显式声明：标明非必填项的默认行为
本质逻辑：通过严谨的接口约定 + 灵活的行为扩展 + 自包含的功能实现，构建可被不同业务场景安全消费的组件单元。其核心是平衡约定与自由的关系，既提供开箱即用的解决方案，又保留必要的定制能力。