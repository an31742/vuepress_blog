import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as e,a}from"./app-1_sQ8TOy.js";const t={},n=a(`<h3 id="缓存字段分类速查表" tabindex="-1"><a class="header-anchor" href="#缓存字段分类速查表"><span>缓存字段分类速查表</span></a></h3><h4 id="⚡-强缓存控制字段-无需服务器验证" tabindex="-1"><a class="header-anchor" href="#⚡-强缓存控制字段-无需服务器验证"><span>⚡ 强缓存控制字段（<strong>无需服务器验证</strong>）</span></a></h4><table><thead><tr><th>响应头字段</th><th>示例值</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>Expires</code></strong></td><td><code>Wed, 21 Oct 2025 07:28:00 GMT</code></td><td>HTTP/1.0 的绝对过期时间</td></tr><tr><td><strong><code>Cache-Control</code></strong></td><td><code>max-age=31536000</code></td><td>缓存有效期（秒），优先级高于 Expires</td></tr><tr><td></td><td><code>public</code></td><td>允许代理服务器缓存</td></tr><tr><td></td><td><code>immutable</code></td><td>资源永不变（内容哈希命名时使用）</td></tr></tbody></table><blockquote><p><strong>识别特征</strong>：当这些字段有效时，浏览器<strong>不发送请求</strong>，直接从缓存加载资源（状态码 200 from cache）</p></blockquote><hr><h4 id="🔁-协商缓存控制字段-需要服务器验证" tabindex="-1"><a class="header-anchor" href="#🔁-协商缓存控制字段-需要服务器验证"><span>🔁 协商缓存控制字段（<strong>需要服务器验证</strong>）</span></a></h4><table><thead><tr><th>请求头字段</th><th>响应头字段</th><th>示例值</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>If-Modified-Since</code></strong></td><td><strong><code>Last-Modified</code></strong></td><td><code>Tue, 15 Aug 2023 12:00:00 GMT</code></td><td>基于修改时间的验证</td></tr><tr><td><strong><code>If-None-Match</code></strong></td><td><strong><code>ETag</code></strong></td><td><code>&quot;d3b07384d113edec49eaa6238ad5ff00&quot;</code></td><td>基于内容哈希的验证</td></tr></tbody></table><blockquote><p><strong>识别特征</strong>：浏览器会<strong>发送请求</strong>，服务器返回 304 或 200（状态码 304 Not Modified）</p></blockquote><hr><h3 id="完整缓存交互流程" tabindex="-1"><a class="header-anchor" href="#完整缓存交互流程"><span>完整缓存交互流程</span></a></h3><div class="language-http line-numbers-mode" data-highlighter="shiki" data-ext="http" data-title="http" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 首次请求（服务端响应）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">HTTP/1.1 200 OK</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">Cache-Control</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> max-age=3600, public   # ← 强缓存指令 (1小时有效)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">ETag</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;xyz123&quot;                        # ← 协商缓存标识</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">Last-Modified</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Tue, 15 Aug 2023 12:00:00 GMT  # ← 协商缓存标识</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 1小时内再次请求 → 强缓存生效（无网络请求）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">浏览器直接从缓存加载</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"># </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">小时后再次请求 → 发送验证请求</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">GET /resource.jpg HTTP/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1.1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">If-None-Match: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;xyz123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">               # ← 携带上次的ETag</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">If-Modified-Since: Tue, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> Aug </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2023</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 12</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">00</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">00</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> GMT # ← 携带上次修改时间</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"># 服务端验证后响应</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">HTTP/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 304</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> Not Modified             # ← 协商缓存生效</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">（空响应体）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="开发者调试指南" tabindex="-1"><a class="header-anchor" href="#开发者调试指南"><span>开发者调试指南</span></a></h3><h4 id="_1-chrome-devtools-查看" tabindex="-1"><a class="header-anchor" href="#_1-chrome-devtools-查看"><span>1. Chrome DevTools 查看</span></a></h4><ul><li><p><strong>Network 面板</strong>：</p><ul><li>强缓存：Size 列显示 <code>(from disk cache)</code> 或 <code>(from memory cache)</code></li><li>协商缓存：Status 列显示 <code>304</code></li></ul></li><li><p><strong>Headers 标签页</strong>：</p><div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" data-title="diff" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Response Headers:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">+ Cache-Control: max-age=3600    # 强缓存字段</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">+ ETag: &quot;xyz123&quot;                 # 协商缓存字段</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">+ Expires: ...                   # 强缓存字段</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Request Headers:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">+ If-None-Match: &quot;xyz123&quot;        # 协商缓存请求字段</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">+ If-Modified-Since: ...         # 协商缓存请求字段</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_2-命令行工具验证" tabindex="-1"><a class="header-anchor" href="#_2-命令行工具验证"><span>2. 命令行工具验证</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 查看所有缓存相关头</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -I</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://example.com/static/logo.png</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 仅查看缓存控制头</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -I</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://example.com/static/logo.png</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -E</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Cache-Control|ETag|Expires|Last-Modified&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-优先级规则" tabindex="-1"><a class="header-anchor" href="#_3-优先级规则"><span>3. 优先级规则</span></a></h4><ol><li><code>Cache-Control</code> &gt; <code>Expires</code>（强缓存）</li><li><code>ETag</code> &gt; <code>Last-Modified</code>（协商缓存）</li><li><code>no-store</code> &gt; <code>no-cache</code> &gt; 其他缓存指令</li></ol><blockquote><p><strong>黄金法则</strong>：<br> 看到 <strong><code>max-age</code>/<code>Expires</code></strong> → 这是<strong>强缓存</strong><br> 看到 <strong><code>ETag</code>/<code>Last-Modified</code></strong> → 这是<strong>协商缓存</strong><br> 两者常配合使用实现<strong>分级缓存策略</strong></p></blockquote>`,20),l=[n];function d(h,r){return e(),i("div",null,l)}const c=s(t,[["render",d],["__file","跨域.html.vue"]]),k=JSON.parse('{"path":"/interview/%E8%B7%A8%E5%9F%9F.html","title":"跨域","lang":"zh-CN","frontmatter":{"title":"跨域","icon":"object-group","tag":["面试必考"],"description":"缓存字段分类速查表 ⚡ 强缓存控制字段（无需服务器验证） 识别特征：当这些字段有效时，浏览器不发送请求，直接从缓存加载资源（状态码 200 from cache） 🔁 协商缓存控制字段（需要服务器验证） 识别特征：浏览器会发送请求，服务器返回 304 或 200（状态码 304 Not Modified） 完整缓存交互流程 开发者调试指南 1. Ch...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/interview/%E8%B7%A8%E5%9F%9F.html"}],["meta",{"property":"og:site_name","content":"前端知识随笔"}],["meta",{"property":"og:title","content":"跨域"}],["meta",{"property":"og:description","content":"缓存字段分类速查表 ⚡ 强缓存控制字段（无需服务器验证） 识别特征：当这些字段有效时，浏览器不发送请求，直接从缓存加载资源（状态码 200 from cache） 🔁 协商缓存控制字段（需要服务器验证） 识别特征：浏览器会发送请求，服务器返回 304 或 200（状态码 304 Not Modified） 完整缓存交互流程 开发者调试指南 1. Ch..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-06T17:24:01.000Z"}],["meta",{"property":"article:author","content":"小安"}],["meta",{"property":"article:tag","content":"面试必考"}],["meta",{"property":"article:modified_time","content":"2025-08-06T17:24:01.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"跨域\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-06T17:24:01.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"小安\\",\\"url\\":\\"https://github.com/an31742\\"}]}"]]},"headers":[{"level":3,"title":"缓存字段分类速查表","slug":"缓存字段分类速查表","link":"#缓存字段分类速查表","children":[]},{"level":3,"title":"完整缓存交互流程","slug":"完整缓存交互流程","link":"#完整缓存交互流程","children":[]},{"level":3,"title":"开发者调试指南","slug":"开发者调试指南","link":"#开发者调试指南","children":[]}],"git":{"createdTime":1754501041000,"updatedTime":1754501041000,"contributors":[{"name":"an31742","email":"2234170284@qq.com","commits":1}]},"readingTime":{"minutes":2,"words":599},"filePathRelative":"interview/跨域.md","localizedDate":"2025年8月6日","autoDesc":true}');export{c as comp,k as data};
